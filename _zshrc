# Vi ライクな操作を有効にる
bindkey -v

# 自動補完を有効にする
autoload -U compinit; compinit

# ディレクトリに cd する
setopt auto_cd

# 2つ上、3つ上にも移動できるようにする
alias ...='cd ../..'
alias ....='cd ../../..'

# ディレクトリパスの展開
hash -d ptnvis=~/Documents/class/reserch/PatternVis

# cd した先のディレクトリをディレクトリスタックに追加する
setopt auto_pushd

# pushd したとき、ディレクトリがすでにスタックに含まれていればスタックに追加しない
setopt pushd_ignore_dups

# 拡張 glob を有効にする
setopt extended_glob

# コマンド履歴の重複削除
setopt hist_ignore_all_dups

# <Tab> を押すと候補からパス名を選択できるようになる
zstyle ':completion:*:default' menu select=1

# 単語の一部として扱われる文字のセットを指定する
WORDCHARS='*?_-.[]~=&;!#$%^(){}<>'

# 入力しているコマンド名が間違っている場合にもしかして：を出す。
setopt correct

# 色を使う
setopt prompt_subst

# PROMPT
autoload -U promptinit; promptinit
autoload -Uz colors; colors
autoload -Uz vcs_info
autoload -Uz is-at-least

zstyle ":vcs_info:*" enable git svn hg bzr
zstyle ":vcs_info:*" formats "(%s)-[%b]"
zstyle ":vcs_info:*" actionformats "(%s)-[%b|%a]"
zstyle ":vcs_info:(svn|bzr):*" branchformat "%b:r%r"
zstyle ":vcs_info:bzr:*" use-simple true

zstyle ":vcs_info:*" max-exports 6

if is-at-least 4.3.10; then
    zstyle ":vcs_info:git:*" check-for-changes true # commitしていないのをチェック
    zstyle ":vcs_info:git:*" stagedstr "%F{yellow}+ "
    zstyle ":vcs_info:git:*" unstagedstr "%F{red}* "
    zstyle ":vcs_info:git:*" formats "%F{green}%c%u(%b)"
    zstyle ":vcs_info:git:*" actionformats "%F{green}%c%u(%s)-[%b|%a]"
fi

function vcs_prompt_info() {
    LANG=en_US.UTF-8 vcs_info
    [[ -n "$vcs_info_msg_0_" ]] && echo -n " %{$fg[yellow]%}$vcs_info_msg_0_%f"
}

PROMPT='%F{green}%n@%m: '
PROMPT+='%F{blue}%~%f '
PROMPT+="\$(vcs_prompt_info)"
PROMPT+='
'
PROMPT+='$ '
RPROMPT="[%*]"

# ls
alias ls="ls -G"
alias l="ls -la"
alias la="ls -la"
alias l1="ls -1"

# sesta alias
alias vi="vim"
alias gco="git checkout"
alias gst="git status"
alias gdf="git diff"
alias gbr="git branch"
alias glg="git log --graph --oneline --color"
alias pixiv="ssh -A pixiv-dev"
alias vislab="ssh takedas@www.vislab.cs.tsukuba.ac.jp"
alias count="~/Documents/develop/sh/count_down/count.sh"

